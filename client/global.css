@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /**
   * Tailwind CSS theme
   * tailwind.config.ts expects the following color variables to be expressed as HSL values.
   * A different format will require also updating the theme in tailwind.config.ts.
  */
  :root {
    /* === LIGHT THEME (Professional Health App) === */
    --background: 210 20% 98%;
    --foreground: 214 32% 17%;

    --card: 0 0% 100%;
    --card-foreground: 214 32% 17%;

    --popover: 0 0% 100%;
    --popover-foreground: 214 32% 17%;

    /* Enhanced Primary Colors - Health Green */
    --primary: 140 65% 50%;
    --primary-foreground: 0 0% 100%;

    /* Enhanced Secondary - Soft Mint */
    --secondary: 158 64% 88%;
    --secondary-foreground: 140 66% 24%;

    --muted: 210 20% 98%;
    --muted-foreground: 215 16% 47%;

    /* Enhanced Accent - Calming Blue */
    --accent: 200 100% 85%;
    --accent-foreground: 200 100% 25%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 214 32% 91%;
    --input: 210 17% 96%;
    --ring: 140 65% 50%;

    --radius: 0.75rem;

    /* === ENHANCED HEALTH APP COLORS === */
    --calorie-primary: 25 95% 53%; /* Orange */
    --calorie-secondary: 25 95% 95%; /* Light Orange */
    --water-primary: 200 100% 50%; /* Blue */
    --water-secondary: 200 100% 95%; /* Light Blue */
    --step-primary: 140 65% 50%; /* Green */
    --step-secondary: 140 65% 95%; /* Light Green */
    --sleep-primary: 260 60% 50%; /* Purple */
    --sleep-secondary: 260 60% 95%; /* Light Purple */
    --workout-primary: 0 85% 60%; /* Red */
    --workout-secondary: 0 85% 95%; /* Light Red */

    /* === GLASSMORPHISM EFFECTS === */
    --glass-bg: 255 255 255 / 0.1;
    --glass-border: 255 255 255 / 0.2;
    --glass-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);

    /* === SIDEBAR === */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    /* === DARK THEME (Professional Health App) === */
    --background: 224 71% 4%;
    --foreground: 213 31% 91%;

    --card: 224 71% 6%;
    --card-foreground: 213 31% 91%;

    --popover: 224 71% 6%;
    --popover-foreground: 213 31% 91%;

    /* Enhanced Primary Colors - Health Green Dark */
    --primary: 140 65% 45%;
    --primary-foreground: 0 0% 100%;

    /* Enhanced Secondary - Dark Mint */
    --secondary: 215 28% 17%;
    --secondary-foreground: 210 20% 98%;

    --muted: 215 28% 17%;
    --muted-foreground: 217 10% 65%;

    /* Enhanced Accent - Dark Blue */
    --accent: 200 100% 30%;
    --accent-foreground: 210 20% 98%;

    --destructive: 0 63% 31%;
    --destructive-foreground: 210 20% 98%;

    --border: 215 28% 17%;
    --input: 215 28% 17%;
    --ring: 140 65% 45%;

    /* === ENHANCED DARK HEALTH APP COLORS === */
    --calorie-primary: 25 85% 55%; /* Bright Orange */
    --calorie-secondary: 25 40% 15%; /* Dark Orange */
    --water-primary: 200 100% 60%; /* Bright Blue */
    --water-secondary: 200 50% 15%; /* Dark Blue */
    --step-primary: 140 65% 55%; /* Bright Green */
    --step-secondary: 140 40% 15%; /* Dark Green */
    --sleep-primary: 260 60% 60%; /* Bright Purple */
    --sleep-secondary: 260 40% 15%; /* Dark Purple */
    --workout-primary: 0 85% 65%; /* Bright Red */
    --workout-secondary: 0 50% 15%; /* Dark Red */

    /* === GLASSMORPHISM EFFECTS DARK === */
    --glass-bg: 0 0 0 / 0.2;
    --glass-border: 255 255 255 / 0.1;
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);

    /* === SIDEBAR DARK === */
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224 71% 4%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  /* === RESPONSIVE BREAKPOINTS === */
  @media (max-width: 479px) {
    :root {
      --card-padding: 1rem;
      --section-padding: 1rem;
      --text-scale: 0.9;
    }
  }

  @media (min-width: 480px) and (max-width: 767px) {
    :root {
      --card-padding: 1.25rem;
      --section-padding: 1.5rem;
      --text-scale: 1;
    }
  }

  @media (min-width: 768px) {
    :root {
      --card-padding: 1.5rem;
      --section-padding: 2rem;
      --text-scale: 1;
    }
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground transition-colors duration-300;
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
    overscroll-behavior: none;
    font-feature-settings:
      "rlig" 1,
      "calt" 1;
  }

  /* Enable text selection for inputs and content areas */
  input,
  textarea,
  [contenteditable] {
    -webkit-user-select: text;
    user-select: text;
  }

  /* Smooth scrolling for mobile */
  html {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }

  /* Prevent zoom on double tap */
  button,
  a,
  [role="button"] {
    touch-action: manipulation;
  }

  /* Mobile-optimized focus styles */
  @media (max-width: 768px) {
    button:focus-visible,
    [role="button"]:focus-visible {
      outline: 2px solid hsl(var(--ring));
      outline-offset: 2px;
    }
  }

  /* Enhanced responsive typography */
  @media (max-width: 640px) {
    html {
      font-size: 14px;
    }
  }

  /* === ENHANCED GLASSMORPHISM SYSTEM === */
  .glass-light {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(20px) saturate(1.5);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }

  .glass-medium {
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(16px) saturate(1.8);
    border: 1px solid rgba(255, 255, 255, 0.4);
    box-shadow:
      0 16px 40px rgba(0, 0, 0, 0.12),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
  }

  .glass-heavy {
    background: rgba(255, 255, 255, 0.35);
    backdrop-filter: blur(12px) saturate(2);
    border: 1px solid rgba(255, 255, 255, 0.5);
    box-shadow:
      0 24px 48px rgba(0, 0, 0, 0.15),
      inset 0 1px 0 rgba(255, 255, 255, 0.4);
  }

  .glass-dark {
    background: rgba(0, 0, 0, 0.15);
    backdrop-filter: blur(20px) saturate(1.5);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }

  /* Dark mode glass effects */
  .dark .glass-light {
    background: rgba(0, 0, 0, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .dark .glass-medium {
    background: rgba(0, 0, 0, 0.25);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .dark .glass-heavy {
    background: rgba(0, 0, 0, 0.35);
    border: 1px solid rgba(255, 255, 255, 0.3);
  }

  /* === ENHANCED SHADOW SYSTEM === */
  .card-shadow {
    box-shadow:
      0 1px 3px 0 rgba(0, 0, 0, 0.1),
      0 1px 2px 0 rgba(0, 0, 0, 0.06),
      0 0 0 1px rgba(255, 255, 255, 0.5);
  }

  .card-shadow-lg {
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -2px rgba(0, 0, 0, 0.05),
      0 0 0 1px rgba(255, 255, 255, 0.8);
  }

  .card-shadow-premium {
    box-shadow:
      0 20px 25px -5px rgba(0, 0, 0, 0.1),
      0 10px 10px -5px rgba(0, 0, 0, 0.04),
      0 0 0 1px rgba(255, 255, 255, 0.9);
  }

  .card-shadow-float {
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  }

  /* Dark mode shadows */
  .dark .card-shadow {
    box-shadow:
      0 1px 3px 0 rgba(0, 0, 0, 0.3),
      0 1px 2px 0 rgba(0, 0, 0, 0.2),
      0 0 0 1px rgba(255, 255, 255, 0.1);
  }

  .dark .card-shadow-lg {
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.3),
      0 4px 6px -2px rgba(0, 0, 0, 0.2),
      0 0 0 1px rgba(255, 255, 255, 0.1);
  }

  /* === ENHANCED GRADIENT SYSTEM === */
  .gradient-mint {
    background: linear-gradient(
      135deg,
      rgba(204, 251, 241, 0.9) 0%,
      rgba(167, 243, 208, 0.95) 50%,
      rgba(110, 231, 183, 0.9) 100%
    );
  }

  .gradient-water {
    background: linear-gradient(
      135deg,
      rgba(224, 242, 254, 0.9) 0%,
      rgba(186, 230, 253, 0.95) 50%,
      rgba(125, 211, 252, 0.9) 100%
    );
  }

  .gradient-success {
    background: linear-gradient(
      135deg,
      rgba(220, 252, 231, 0.9) 0%,
      rgba(187, 247, 208, 0.95) 50%,
      rgba(134, 239, 172, 0.9) 100%
    );
  }

  .gradient-warning {
    background: linear-gradient(
      135deg,
      rgba(254, 243, 199, 0.9) 0%,
      rgba(253, 230, 138, 0.95) 50%,
      rgba(252, 211, 77, 0.9) 100%
    );
  }

  .gradient-premium {
    background: linear-gradient(
      135deg,
      rgba(167, 243, 208, 0.9) 0%,
      rgba(110, 231, 183, 0.95) 25%,
      rgba(125, 211, 252, 0.95) 75%,
      rgba(186, 230, 253, 0.9) 100%
    );
  }

  /* Dark mode gradients */
  .dark .gradient-mint {
    background: linear-gradient(
      135deg,
      rgba(16, 185, 129, 0.2) 0%,
      rgba(5, 150, 105, 0.3) 50%,
      rgba(4, 120, 87, 0.2) 100%
    );
  }

  .dark .gradient-water {
    background: linear-gradient(
      135deg,
      rgba(14, 165, 233, 0.2) 0%,
      rgba(2, 132, 199, 0.3) 50%,
      rgba(3, 105, 161, 0.2) 100%
    );
  }

  /* === ENHANCED HOVER EFFECTS === */
  .hover-lift {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .hover-lift:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  }

  .hover-glow {
    transition: all 0.3s ease;
  }

  .hover-glow:hover {
    box-shadow:
      0 0 20px rgba(34, 197, 94, 0.3),
      0 10px 20px rgba(0, 0, 0, 0.1);
  }

  .hover-bounce {
    transition: transform 0.2s ease;
  }

  .hover-bounce:hover {
    transform: translateY(-2px);
    animation: bounce-subtle 0.6s ease-in-out;
  }

  /* === LOADING STATES === */
  .skeleton {
    background: linear-gradient(
      90deg,
      rgba(240, 240, 240, 0.8) 25%,
      rgba(224, 224, 224, 0.9) 50%,
      rgba(240, 240, 240, 0.8) 75%
    );
    background-size: 200px 100%;
    animation: shimmer 1.5s infinite;
  }

  .dark .skeleton {
    background: linear-gradient(
      90deg,
      rgba(64, 64, 64, 0.8) 25%,
      rgba(96, 96, 96, 0.9) 50%,
      rgba(64, 64, 64, 0.8) 75%
    );
  }

  .pulse-ring {
    position: relative;
  }

  .pulse-ring::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    border: 2px solid rgba(34, 197, 94, 0.5);
    border-radius: inherit;
    animation: ping 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;
  }

  /* === RESPONSIVE UTILITIES === */
  .container-responsive {
    @apply max-w-md mx-auto px-4 sm:px-6;
  }

  .text-responsive {
    @apply text-sm sm:text-base;
  }

  .heading-responsive {
    @apply text-lg sm:text-xl font-semibold;
  }

  /* === MOBILE OPTIMIZATIONS === */
  @media (max-width: 640px) {
    .mobile-padding {
      @apply px-4;
    }

    .mobile-text {
      @apply text-sm;
    }

    .mobile-heading {
      @apply text-lg;
    }
  }

  /* === ACCESSIBILITY IMPROVEMENTS === */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* === FOCUS VISIBLE IMPROVEMENTS === */
  .focus-visible-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background;
  }

  /* Smooth animations */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.6s ease-out;
  }

  /* === THEME TRANSITIONS === */
  .theme-transition {
    transition:
      background-color 0.3s ease,
      color 0.3s ease,
      border-color 0.3s ease;
  }

  /* === PROFESSIONAL COMPONENT STYLES === */
  .card-professional {
    @apply bg-card border border-border rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200;
  }

  .button-primary {
    @apply bg-primary text-primary-foreground hover:bg-primary/90 focus-visible-ring rounded-md px-4 py-2 font-medium transition-colors;
  }

  .button-secondary {
    @apply bg-secondary text-secondary-foreground hover:bg-secondary/80 focus-visible-ring rounded-md px-4 py-2 font-medium transition-colors;
  }

  .input-professional {
    @apply bg-background border border-input rounded-md px-3 py-2 text-sm focus-visible-ring placeholder:text-muted-foreground;
  }

  /* === PROFESSIONAL RESPONSIVE DESIGN SYSTEM === */
  .responsive-container {
    @apply w-full max-w-md mx-auto;
    padding: var(--section-padding, 1.5rem);
  }

  .responsive-text {
    @apply text-sm sm:text-base lg:text-lg;
    font-size: calc(1rem * var(--text-scale, 1));
  }

  .responsive-card {
    @apply rounded-xl shadow-lg border border-border/50;
    padding: var(--card-padding, 1.5rem);
    background: hsl(var(--card));
    color: hsl(var(--card-foreground));
  }

  .responsive-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  }

  .responsive-flex {
    @apply flex flex-col sm:flex-row gap-4 items-start sm:items-center;
  }

  /* === PROFESSIONAL HEALTH APP COMPONENTS === */
  .health-card {
    @apply responsive-card backdrop-blur-sm theme-transition;
    background: rgba(var(--glass-bg));
    border: 1px solid rgba(var(--glass-border));
    box-shadow: var(--glass-shadow);
  }

  .health-card:hover {
    @apply transform scale-105 transition-all duration-300 ease-out;
    box-shadow: 0 12px 40px rgba(31, 38, 135, 0.5);
  }

  .metric-card {
    @apply relative overflow-hidden health-card;
  }

  .metric-card::before {
    content: "";
    @apply absolute inset-0 opacity-10;
    background: linear-gradient(
      135deg,
      hsl(var(--primary)) 0%,
      hsl(var(--accent)) 100%
    );
  }

  /* === DARK MODE ENHANCEMENTS === */
  .dark .health-card {
    background: rgba(var(--glass-bg));
    border: 1px solid rgba(var(--glass-border));
    box-shadow: var(--glass-shadow);
  }

  .dark .health-card:hover {
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.7);
  }

  /* === THEME-AWARE GRADIENTS === */
  .gradient-health {
    background: linear-gradient(
      135deg,
      hsl(var(--primary)) 0%,
      hsl(var(--accent)) 50%,
      hsl(var(--secondary)) 100%
    );
  }

  .gradient-calorie {
    background: linear-gradient(
      135deg,
      hsl(var(--calorie-primary)) 0%,
      hsl(var(--calorie-secondary)) 100%
    );
  }

  .gradient-water {
    background: linear-gradient(
      135deg,
      hsl(var(--water-primary)) 0%,
      hsl(var(--water-secondary)) 100%
    );
  }

  .gradient-step {
    background: linear-gradient(
      135deg,
      hsl(var(--step-primary)) 0%,
      hsl(var(--step-secondary)) 100%
    );
  }

  .gradient-sleep {
    background: linear-gradient(
      135deg,
      hsl(var(--sleep-primary)) 0%,
      hsl(var(--sleep-secondary)) 100%
    );
  }

  .gradient-workout {
    background: linear-gradient(
      135deg,
      hsl(var(--workout-primary)) 0%,
      hsl(var(--workout-secondary)) 100%
    );
  }

  /* === RESPONSIVE MOBILE OPTIMIZATIONS === */
  @media (max-width: 480px) {
    .health-card {
      @apply text-sm;
      padding: 1rem;
    }

    .metric-card h3 {
      @apply text-base;
    }

    .responsive-grid {
      grid-template-columns: 1fr;
    }
  }

  @media (min-width: 481px) and (max-width: 768px) {
    .responsive-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 769px) {
    .responsive-grid {
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    }
  }
}
